\documentclass[%
handout,
%draft
]{beamer}
\usetheme[shadow]{ComputationalLogic}

\input{PREAMBLE/BPackages.tex}	% \usepackage{mystyle}

\title[Completeness]{Completeness of }
\author[{A$\ell$M}]{%
	Alexander Maringele
}
\institute[UIBK]{%
	{alexander.maringele@gmail.com}
}
% \date{May 9th, 2017}




\begin{document}
\titleframe

\begin{frame}
    \nocite{GK2004csl}
    \bibliographystyle{plain}
    \bibliography{biblio.bib}
\end{frame}

\begin{frame}
    \input{T/refutation.tex}
\end{frame}


\section{Preliminaries}

\subsection{Clauses, closures and orderings}

\begin{frame}

    \begin{itemize}
        \item a clause $C$ is a multiset of literals
        \item literals are (in)equations of first order terms
        \item a closure $C\cdot\sigma$ is a pair of clause $C$ and substitution $\sigma$
        \item orderings
    \end{itemize}
    \begin{align*}
        &\succG
        \tag*{order on ground terms, literals, and clauses defined by}
        \\
        \tag*{a total, well-founded, and monotone extension of}
        \\
        \tag*{a total simplification ordering $\succG'$ on ground terms}
        \\
        \\
        &\succL
        \tag*{an arbitrary total well-founded extension of $\succG$ such that}
        \\
        && L\sigma\succG L'\sigma' &\Rightarrow L\cdot\sigma\succL L'\cdot\sigma'\tag*{}
        \\
        \\
        &\succC \tag*{an arbitrary total well-founded extension of $\succG$ such that }
        \\
        && C\tau\succG D\rho\text)
        &\Rightarrow C\cdot\tau\succC D\cdot\rho   \tag*{}
        \\
        && (C\tau=D\rho\text{ and }C\theta = D)
        &\Rightarrow C\cdot\tau\succC D\cdot\rho   \tag*{}
    \end{align*}
\end{frame}

\section{Unit Paramodulation}
\subsection{Inferences}
\begin{frame}{Unit Paramodulation}

    % \begin{definition}
    \input{SNIPPETS/UPI}
    where
    \input{SNIPPETS/UPC}
    % \end{definition}

    \vspace{1.4em}
    \begin{remark}
    The set of literal closures
    $\{\,
    (\mf(x)\mEQ\mb)\cdot\{x\to\ma\},\, 
    \ma\mEQ \mb,\,
    \mf(\mb)\mNE\mb\,
    \}$ is inconsistent,
    but the empty clause is not derivable
    if $\ma\succG\mb$.
    \end{remark}
    
\end{frame}


\subsection{UP-Redundancy}
\begin{frame}[allowframebreaks]
    % \begin{definition}
        
        We define for a set of literal closures $\mcL$ 
        
        and an
        arbitrary ground rewrite system $R$
        \begin{gather*}
            irred_R(\mcL) = \{
                L\cdot\sigma \mid
                L\cdot\sigma\in\mcL,
                \sigma\text{ is irreducible w.r.t.~}R
            \}
        \end{gather*}
    
    A literal closure $L\cdot\sigma$ is UP-redundant in $\mcL$ if
    for every ground rewrite system $R$ 
    oriented by $\succG$ 
    where $\sigma$ is irreducible w.r.t.~$R$
    \begin{gather*}
    R \cup irred_R(\mcL_{L\cdot\sigma\succL}) \vDash L\sigma
    \end{gather*}
    with 
    $
        \mcL_{L\cdot\sigma\succL} = \{\,
            L'\!\cdot\sigma' \mid
            L'\!\cdot\sigma'\in\mcL,\,
            L\cdot\sigma\succL L'\cdot\sigma'
        \,\}
    $

    \vspace{1.4em}
    Then $\mcR_{UP}(\mcL)$ denotes the set of all UP-redundant closures in $\mcL$.

    % \end{definition}
\end{frame}

\section{Saturation}
\subsection{Satuaration}
\begin{frame}[allowframebreaks]{Saturation}
    % \begin{definition}
        A UP-{saturation process} is

        a sequence \( \{ \mcL_i \}_{i=0}^\infty \)
        of sets of literal closures 
        
        where \( \mcL_{i+1} \) is obtained from \( \mcL_i \)
        
        by {adding} a conclusion of an UP-inference with premises in $\mcL_i$

        or by {removing} a UP-redundant closure w.r.t.~\(\mcL_i\).
        \begin{gather*}
            \mcL_{i+1} = \left\{
                \begin{array}{lclc}
                    \mcL_i \cup\,\emptyclause
                    &\text{if}
                    &
                        \mcL_i\ni(s\mNE t)\cdot\tau,\ {}
                        s\tau = t\tau,\ {}
                        \mu=\mgu(s,t)
                    \\
                    \mcL_i \backslash L\cdot\sigma
                    &\text{if}
                    &R \cup \irred_R(\mcL_{i,L\cdot\sigma\succL}) \entails L\sigma
                    \\
                    \mcL_i \cup\, L[r]\theta\cdot\rho
                    &\text{if}
                    &\left\{\begin{array}{l}
                        (\ell\mEQ r)\cdot\sigma\in\mcL_i,\ {}
                        L[\ell']\cdot\sigma'\in\mcL_i
                        \\
                        \ell\sigma\succG r\sigma,\ {}
                        \theta=\mgu(\ell,\ell'),
                        \\
                        \ell'\notin\mcV,\ {}
                        \ell\sigma = \ell'\sigma' = \ell'\theta\rho,
                    \end{array}\right.
                    \\
                    \mcL_i
                    &&\text{otherwise}
                \end{array}
            \right.
        \end{gather*}
    % \end{definition}
    \newpage

    \begin{definition}
        Let \( \mcL^\infty \) be the set of persistent closures,
        i.e.~the lower limit of the sequence.
        The process is {UP-fair} if for every UP-inference
        with premises in \( \mcL^\infty \) the conclusion is UP-redundant
        w.r.t.~\(\mcL_j\) for some \(j\).

        For a set of literals \( \mcL \) we define
        the saturated set of literal closures
        \( \mcL^{sat} = \mcL^\infty\backslash\mcR_{UP}(\mcL^\infty) \)
        for some UP-saturation process
        \( \{ \mcL_i\}_{i=0}^\infty \)
        with $\mcL_0 = \mcL$.
    \end{definition}

    \begin{lemma}
        The set \( \mcL^{sat} \) is unique because
        for any two UP-fair saturation processes
        \(\{ \mcL_i
            \}_{i=0}^\infty\) and
            \(\{ \mcL'_i
            \}_{i=0}^\infty\)
            with $\mcL_0 = \mcL'_0$ we have
            \begin{gather*}
                \mcL^\infty \backslash \mcR_{UP}(\mcL^\infty)
                =
                \mcL'^\infty \backslash \mcR_{UP}(\mcL'^\infty)
            \end{gather*}
    \end{lemma}
\end{frame}

\subsection{Inst-Redundancy}

\begin{frame}
%     $\mcR_{Inst}(S)$

%     selection function,

%     S-relevant
Let $S$ be a set of clauses.

A (possible non-ground) clause $C$ is called Inst-redundant in $S$

if each ground closure $C\cdot\sigma$ is Inst-redundant in $S$, i.e.

there are ground closures $C_1\cdot\sigma_1,\ldots,C_k\cdot\sigma_k$ of clauses in $S$ such that
\begin{gather*}
    C_1\cdot\sigma_1,\ldots,C_k\cdot\sigma_k\models C'\cdot\sigma'
\end{gather*}

\vspace{1.4em}
Then $R_{Inst}(S)$ denotes the set of all Inst-redundant clauses in $S$.

\end{frame}

\subsection{Selection}
\begin{frame}
    Consider a set of clauses $S$, let $I_\bot$ be a model of $S\bot$.

    A selection funciton $\sel$ maps clauses to literals such that
    \begin{align*}
        \sel(C)&\in C
        \\
        I_\bot&\models\sel(C)\bot
    \end{align*}
    
    

    The set of $S$-relevant instances of literals
    \begin{align*}
        \mcL_S &= \left\{\, L\cdot\sigma \mid
        \begin{array}{l}
            L\lor C\in S,\,L = \sel(L\lor C)\\
            (L\lor C)\cdot\sigma\text{ is not Inst-redundant in S},\\
        \end{array}
        \,\right\}
    \end{align*}

    \vspace{1.4em}
    $\mcL_S^{sat}$ denotes the satuarion process of $\mcL_S$.

    \vspace{0.7em}
    

\end{frame}

\subsection{Completeness}
\begin{frame}
    A set of clauses $S$ is Inst-saturated w.r.t.~a selection function,

    if $\mcL_S^{sat}$ does not contain the empty clause.
    \vspace{1.4em}

    \begin{theorem}
    If a set of clauses $S$ is Inst-saturated, 
    and $S\bot$ is satisfiable,

    then $S$ is also satisfiable.
    \end{theorem}
    \vspace{1.4em}

    \begin{proof}
        \begin{enumerate}
            \item model candidate construction
            \item proof by contradiction of counterexample 
        \end{enumerate}
        \end{proof}
\end{frame}

\subsection{Construction}
\begin{frame}
    Assume $S\bot$ is satisfiable and
    $\emptyclause\not\in\mcL_S^{sat}$.

    We define by induction on $\succL$.
    Assume $L = L'\cdot\sigma \in\mcL_S^{sat}$
    \begin{align*}
        I_L &= \bigcup_{L\succL M}\epsilon_M
        \tag*{$\epsilon_M$ allready defined for all $M$ with $L\succL M$}
        \\
        R_L &= \{ s \to t \mid s\mEQ t\in I_L, s\succG t \}
        \\
        \epsilon_L &= \left\{
            \begin{array}{cl}
                \emptyset &\text{if }
                L'\sigma\text{ reducible by }R_L
                \\
                \emptyset &\text{if }
                I_L\vDash L'\sigma
                \text{ or }
                I_L\vDash \overline{L'}\sigma
                \text{ (defined)}
                \\
                \{ L'\sigma \}
                &\text{if }L'\sigma \text{ is productive (i.e.~irreducible and undefined)}
            \end{array}
        \right.\\[1.4em]
        R_S &= \bigcup_{L\in\mcL_S^{sat}} R_L \tag*{$R_S$ is convergent interreduced rewrite system}
        \\
        I_S &= \bigcup_{L\in\mcL_S^{sat}} \epsilon_L \tag*{$I_S$ is consistent, $L\sigma\in L_S$ is irreducible by $R_S$}
    \end{align*}
\end{frame}

\subsection{Counterexample}
\begin{frame}
    Let $\mcI$ be an arbitrary total consistent extension of $I_S$.
    \vspace{1.4em}

    Assume $\mcI$ is not a model of $S$.
    \begin{align*}
        \text{Let }
        D &= \min_{\succC}\{\,
        D'\cdot\sigma \mid D'\in S,\,
        \mcI\not\models D'\sigma\,
        \}
    \end{align*}

    
\end{frame}



% \subsection{$M\cdot\tau$ is irreducible by $R_S$}
% \begin{frame}[allowframebreaks]{$M\cdot\tau$ is irreducible}
%     % \begin{lemma}
%     %     Let $M\cdot\tau = \min_{\succL}
%     %      \left\{
%     %          M'\cdot\tau' \mid
%     %          M'\cdot\tau' \in irred_{R_S}(\mcL_S^{sat}),
%     %          \mcI \not\models M'\tau'
%     %      \right\}$

%     %     Then, $M\cdot\tau$ is irreducible by $R_S$.
%     % \end{lemma}

%         Let
%             $M\cdot\tau = \min_{\succL}\!
%         \left\{\, 
%             L'\cdot\tau' \mid
%             L'\cdot\sigma' \in irred_{R_S}(\mcL_S^{sat}),\,
%             \mcI \not\models M'\tau'\, 
%         \right\}$
        
%         \textcolor{gray}{(There is at least one $L'\cdot\sigma'\in irred_{R_S}(\mcL_S^{sat})$ false in $\mcI$)}
        
%         \vspace{0.7em}
%         Assume 
%         \begin{itemize}
%             \item $M\cdot\tau$ is reducible by $(\ell\to r)\in R_S$
%             \item $(\ell\to r)$ is produced by $(\ell'\mEQ r')\cdot\rho\in\mcL_S^{sat}$
%         \end{itemize}

%         Bei construction $\tau$ is irreducible by $R_S$.

%         Hence UP-inference is applicable:
%         % and we derive $M[r']\theta\cdot\mu$
%         % from $(\ell'\mEQ r')\cdot\rho$ and $M[\ell'']\cdot\tau$
%         % with $\ell'\rho = \ell''\tau = \ell''\theta\mu$,
%         % $\theta=\mgu(\ell',\ell'')$, and $\mcI\not\models M[r']\theta\mu$
%         \begin{gather*}
%             \infer[UP]
%             {M[r']\theta\cdot\mu}
%             {(\ell'\mEQ r)\cdot\rho & M[\ell'']\cdot\tau}
%             \\
%             \ell'\rho = \ell''\tau = \ell''\theta\mu,\,
%             \theta=\mgu(\ell',\ell''),\,
%             \mcI\not\models M[r']\theta\mu
%         \end{gather*}
%         % % Since both

%         \begin{itemize}
%             \item Assume $M[r']\theta\cdot\mu$ is UP-redundant in $\mcL_S^{sat}$.

%             $\alpha$ is irreducible (lemma ..) by $R_S$. From definiton:
%             % \begin{gather}
%             %     R_S \cup irred_{R_S}(
%             %     \{
%             %         M'\cdot\tau'\mid
%             %         M[r']\theta\cdot\mu \succL M'\tau'
%             %         \} \models M[r']\theta\muu
%             % \end{gather}
%             \item Assume $M[r']\theta\cdot\mu$ is not UP-redundant in $\mcL_S^{sat}$.
%         \end{itemize}
%         % % Since both lead to a contradiction, we must ommit our assumption.
% \end{frame}

%%% FINAL STEP =======================================================================

\subsection{Final step}
\begin{frame}[allowframebreaks]{Final Step}
    \textcolor{gray}{
        $M\cdot\tau = \min_{\succL}\!
        \left\{\, 
            M'\cdot\tau' \mid
            L'\cdot\sigma' \in irred_{R_S}(\mcL_S^{sat}),\,
            \mcI \not\models M'\tau'\, 
        \right\}$}
    \vspace{0.7em}

        We have that $M\cdot\tau$
    \begin{itemize}
        \item is false in $\mcI$
        \item is in $\mcL_S^{sat}$
        \item is irreducible by $R_S$
        \item is not productive.
    \end{itemize}
    \vspace{1em}

    Hence $I_{M\cdot\tau}\models\overline{M}\tau$ 
    with two possible cases:

    \begin{enumerate}
        \item $M\cdot\tau$ is equation $(s\mEQ t)\cdot\tau$  \hfill $I_{M\cdot\tau}\models (s\mNE t)\tau$ 
        \item $M\cdot\tau$ is inequation $(s\mNE t)\cdot\tau$ \hfill $I_{M\cdot\tau}\models (s\mEQ t)\tau$
    \end{enumerate}

\pagebreak
\textcolor{gray}{
    $M\cdot\tau = \min_{\succL}\!
    \left\{\, 
        M'\cdot\tau' \mid
        L'\cdot\sigma' \in irred_{R_S}(\mcL_S^{sat}),\,
        \mcI \not\models M'\tau'\, 
    \right\}$
    \\
    $M\cdot\tau$ is false in $\mcI$, 
    in $\mcL_S^{sat}$, 
    irreducible in $R_S$,
    not productive.}
    \vspace{0.5em}

    \begin{enumerate}
        \item Assume $M\cdot\tau$ is equation $(s\mEQ t)\cdot\tau$:
        \begin{itemize}
            \item $I_{M\cdot\tau}\models (s\mNE t)\tau$
            \item All literals in $I_{M\cdot\tau}$ are irreducible by $R_{M\cdot\tau}$ 
            \item $s\tau$ and $t\tau$ are irreducible by $R_{M\cdot\tau}$
            \item $R_{M\cdot\tau}$ is a convergent term rewrite system
        \end{itemize}
        Hence $(s\mNE t)\tau\in I_{M\cdot\tau}$ and
        produced to $I_{M\cdot\tau}$ by a $(s'\mNE t')\cdot\tau'$.

        Contradicts the minimality of $M\cdot\tau$.
        \vspace{0.5em}
        
        \item Assume $M\cdot\tau$ is inequation $(s\mNE t)\cdot\tau$:
        \begin{itemize}
            \item $I_{M\cdot\tau}\models (s\mEQ t)\tau$
            \item $s\tau$ and $t\tau$ are irreducible by $R_{M\cdot\tau}$
        \end{itemize}
        Hence $s\tau = t\tau$ and equality resolution is applicable.

        Contradicts that the empty clause is not in $\mcL_S^{sat}$.
    \end{enumerate}




       

\end{frame}

\end{document}