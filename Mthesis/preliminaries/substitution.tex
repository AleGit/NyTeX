% !TeX root = ../mthesis.tex
% !TeX encoding = UTF-8
% !TeX spellcheck = en_US

In the following definitions $\mcf$ denotes a function symbol, a predicate symbol, the equality sign or a logical connective.
We use prefix and infix notation interchangable, e.g.
$\mEQ(s,t)$ is the same as $s\mEQ t$.

\begin{definition}\label{def:substitution}
	A {\myem substitution} $\sigma$ is a mapping from variables $x\in\mcV$ to terms in $\mcTFfV$
	where the {\myem domain }$\dom(\sigma) = \{ x\in\mcV\mid\sigma(x) \neq x \}$ is finite.
	We write substitutions as bindings $\sigma=\{ x_1\mapsto s_1,\ldots,x_n\mapsto s_n \}$
	where $\dom(\sigma)=\{ x_1,\ldots,x_n \}$ and $\sigma(x_i)=s_i$.
	A {\myem variable substitution} is a mapping from $\mcV$ to $\mcV$.
	A {\myem renaming} is a bijective variable substitution.
	A {\myem proper instantiator} is a substitution that is not a variable substitution.
	We define the instance $\mct\sigma$ of a first order expression
	respectively the application of a substitution $\sigma$ to a first order expression $\mct$ (without quantifiers):
	\DEFINE{
		\mct\sigma
	}{
			s_i 				& \text{if }\mct=x_i\in\dom(\sigma)\\
			y					& \text{if }\mct=y\in\mcV\,\backslash\dom(\sigma)\\
			\mcf(\mct_1\sigma,\ldots,\mct_n\sigma)	&\text{if }\mct=\mcf(\mct_1,\ldots,\mct_n)
%			P(t_1\sigma,\ldots,t_n\sigma)	&\text{if }\mct=P(t_1,\ldots,t_n), P\in\mcFPn \\
%			s\sigma\mEQ t\sigma			&\text{if }\mct=s\mEQ t \\[0.5em]
%			\lnot(A\sigma)					&\text{if }\mkt=\lnot A \\
%			L_1\sigma\lor\ldots\lor L_n\sigma	&\text{if }\mkt=L_1\lor\ldots\lor L_n \\	
}
We define the {\myem composition} of two substitutions $\sigma$ and $\tau$ as follows
	\begin{align*}
		\sigma\tau&=\{ x_i\mapsto s_i\tau\mid x_i\in\dom(\sigma) \}
		\cup
		\{ y_i\mapsto t_i\mid y_i\in\dom(\tau) \backslash \dom(\sigma) \}.
	\end{align*}
	
\end{definition}

\begin{lemma}\label{lem:substitution}
	With the definitions in \ref{def:substitution} the identity
	$(\mct\sigma)\tau = \mct(\sigma\tau)$ holds for
	arbitrary terms, literals, clauses, and substitutions.
\end{lemma}