% !TeX root = ../mthesis.tex
% !TeX encoding = UTF-8
% !TeX spellcheck = en_US

\chapter{Automated Theorem Proving}

\input{epigraphs/syllogism}

The central idea of instantiation-based first order theorem proving is the
translation of an undecidable problem into a possible infinite sequence of decidable problems.
First we make use of the fact that a first-order formula is valid if and only if its negation is unsatisfiable.
Second we utilize the existing efficient transformation algorithms from arbitrary negated formulas to equisatisfiable sets of clauses.
Through compactness and Hebrand's Theorem we know that it is sufficient to find an unsatisfiable set of ground instances 
to show that the original set of clauses is unsatisfiable. 


First we demonstrate an early approach with Gilmore's prover \cite{5392528}, 1960. 

\section{Gilmore's Prover}

Gilmore's Prover transforms a negated formula into a skolem normal form.
Then it creates a sequence of ground instances $\mcC_i$ of this formula while building the Herbrand universe 
$H = \bigcup_{n\geq 0} H_i$ for the underlying signature
recursivly
\begin{align*}
H_0 &:= \left\{ 
	\begin{array}{ll}
	\{ c \mid \mc\in\mcFfn[0] \}Â 
	&\text{if constants exist}\\
	\{ c \}
	&\text{otherwise}
	\end{array}
\right. 
\\
H_{n+1} &:= \{\  
	\mf(t_1,\ldots,t_k) \mid
	\mf\in\mcFfn[k],
	t_1,\ldots,t_k \in H_n
\ \}
\end{align*}

$C_i'$ are ground instances that uses just elements of $H_i$. 





\begin{example}
	Let $\mcF = \{ \fosca \} \disjointunion \{ \mortal, \human \}$ be a signature without equality. 
	We translate the given syllogism into a formula $F$ in first order logic.
	\begin{align*}
		F &= A \limp (B \limp C) \equiv \lnot(A\land B) \lor C 
		\tag*{formula}
		\\[0.5em]
		A &= \forall x\, ( \human(x) \limp \mortal(x) 
		\tag*{theory}
		\\
		B &= \human(\fosca) 
		\tag*{fact}
		\\
		C &= \mortal(\fosca)
		\tag*{conjecture}
	\end{align*}
\end{example}
 
%We easily find a satisfying interpretation $\mcI$ with domain $\{ \fosca \}$ with 
%$\fosca^\mcI = \fosca$,
%$\human^\mcI = \{ (\fosca) \}$,
%$\mortal^\mcI = \{ (\fosca) \}$.


	We negate the formula $\lnot F \equiv A\land B \land\lnot C$ and since there is exactly one constant we get
	$H_0 = \{ \fosca \}$ for our Herbrand universe and get a single ground formula in $C_0'$
	which we will transform into 
	disjunctive normal form for satisfiability checking.
%
\begin{gather*}
(\lnot\human(\fosca)\land\human(\fosca)\land\lnot\mortal(\fosca))
\\ 
\lor
\\ 
(\mortal(\fosca)\land\human(\fosca)\land\lnot\mortal(\fosca))
\end{gather*}
Since both conjunctions contain complementary literals we conclude the negated formula is unsatisfiable.


\begin{gather*}
content...
\end{gather*}

%Since there is only one constant we instantiate $\mcC_1$ with instantiator $\sigma = \{x\mapsto\fosca\}$ and we get an unsatisfiable 
%set of ground instances $\{ \mcC_2, \mcC_3, \mcC_1\sigma  \}$.
%This can be easily checked by the DPLL 
%method for ground clauses \cite{Davis:1962:MPT:368273.368557, Davis:1960:CPQ:321033.321034},
%i.e.~with a modern satisfiability checker.

\section{Theory}



	An equational interpretation must satisfy the formulas for reflexivity, symmetry, transitivity, 
	function congruence for every function symbol $f\in\mcFf$, 
	and predicate congruence for every predicate symbol $P\in\mcFP$.
%	\[

%		\begin{array}[t]{c}
%		x\mEQ x 
%\qquad
%		x\mNE y\lor y\mEQ x
%\qquad		
%		x\mNE y\lor y\mNE z\lor x\mEQ z \\[0.7em]
%%		
%x_1 \mNE y_1\lor\ldots\lor x_n \mNE y_n\lor f(x_1,\ldots,x_n)\mEQ f(y_1,\ldots,y_n) \\[0.7em]
%%
%x_1\mNE y_1\lor\ldots\lor x_n\mNE y_n\lor\lnot P_i(x_1,\ldots,x_n)\lor P(y_i,\ldots,y_n)
%
%		\end{array}
%	\]

\begin{align*}
	 x \mEQ x & \tag*{reflexivity} \\
	x \mNE y \lor y \mEQ x & \tag*{symmetry}\\
	x\mNE y\lor y\mNE z\lor x\mEQ z & \tag*{transitivity} \\
	x_1 \mNE y_1\lor\ldots\lor x_n \mNE y_n\lor f(x_1,\ldots,x_n)\mEQ f(y_1,\ldots,y_n) &\quad f\in\mcFfn
	\tag*{f-congruence}
	\\
	x_1\mNE y_1\lor\ldots\lor x_n\mNE y_n\lor\lnot P_i(x_1,\ldots,x_n)\lor P(y_i,\ldots,y_n) &\quad P\in\mcFPn
	\tag*{P-congruence}
	\\[0.7em]
	x_1\mNE y_1\lor x_2\mNE y_2
	\lor x_1\mNE x_2
	\lor y_1\mEQ y_2
	\tag*{$\mEQ$-congruence}
\end{align*}

\begin{align*}
	x \mEQ x & \tag*{reflexivity} 
	\\
	x \mEQ y \limp y \mEQ x & \tag*{symmetry}
	\\
	(x\mEQ y\land y\mEQ z)\limp x\mEQ z & \tag*{transitivity} 
	\\
	(x_1 \mEQ y_1\land\ldots\land x_n \mEQ y_n)\limp f(x_1,\ldots,x_n)\mEQ f(y_1,\ldots,y_n) &\quad f\in\mcFfn
	\tag*{f-congruence}
	\\
	x_1\mEQ y_1\land\ldots\land x_n\mNE y_n\land P_i(x_1,\ldots,x_n)
	\limp P(y_i,\ldots,y_n) &\quad P\in\mcFPn
	\tag*{P-congruence}
	\\[0.7em]
	(x_1\mEQ y_1
	\land x_2\mEQ y_2
	\land x_1\mEQ x_2)
	\limp y_1\mEQ y_2
	& \quad P\in\mcFPn[2]
		\tag*{$\mEQ$-congruence}
\end{align*}
	
	







%\end{example}

